<!-- /public/index.html -->
<!DOCTYPE html>
<html>
  <head>
    <!-- Temporary Favicon for this website from GitHub -->
    <link
      rel="icon"
      href="https://avatars0.githubusercontent.com/u/32325099?s=460&v=4"
    />
    <link rel="stylesheet" href="css/test.css" />
    <title>If you see the favicon, you made it.</title>
  </head>
  <body>
    <h1 class="red">red</h1>
    <div id="app"></div>
    <a href="test.html">Goto</a>

    <div id="event-handling">
      <span v-bind:title="title">
        Hover your mouse over me for a few seconds to see my dynamically bound
        title!
      </span>
      <input type="text" id="cat_name" />
      <button v-on:click="save_data">{{ message }}</button>
    </div>
    <script src="https://unpkg.com/vue@next"></script>
    <script>
    //   var app2 = new Vue({
    //     el: '#app-2',
    //     data: {
    //     },
    //   });

      const { createApp } = Vue;

      const EventHandlingApp = {
         data() {
           return {
             message: 'Save Category',
              title: 'You loaded this page on ' + new Date().toLocaleString(),
           };
         },
        methods: {
          async save_data() {
            let inp = document.getElementById('cat_name');
            let cat_name = inp.value;
            let res = await fetch('http://localhost:8080/categories/', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({ name: cat_name }),
            });
            let json = await res.json();
            console.log(json);
            },
        },
      };

      app = createApp(EventHandlingApp);
      app.mount('#event-handling');
    </script>
  </body>
</html>
