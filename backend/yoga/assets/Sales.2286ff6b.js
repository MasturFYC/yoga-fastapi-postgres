var O=Object.defineProperty;var k=Object.getOwnPropertySymbols;var U=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable;var S=(s,e,t)=>e in s?O(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,f=(s,e)=>{for(var t in e||(e={}))U.call(e,t)&&S(s,t,e[t]);if(k)for(var t of k(e))z.call(e,t)&&S(s,t,e[t]);return s};import{a as h}from"./index.2885cb15.js";import{G as N,o as d,e as c,j as a,H as p,J as r,n as x,m as D,q as w,s as V,R as P,F as $,O as B,Q as j,k as C,p as I,t as m,T as J}from"./vendor.d21eb4bc.js";import{_ as T}from"./index.38b9c37f.js";import{T as A}from"./TwButton.6252f860.js";const K={name:"SalesForm",props:{update:{type:Function},salesProp:{type:Object,default:{id:0,name:"",street:"",city:"",phone:"",cell:"",zip:""}}},data(){return{sales:f({},this.$props.salesProp)}},methods:{async formSubmit(s){const e=this;s.preventDefault(),e.sales.id>0?await e.updateSales(e.sales,e.sales.id):await e.insertSales(e.sales)},async insertSales(s){const e=this,t=f({},s);delete t.id,await h.post("/api/salesmans/",JSON.stringify(t),{headers:{accept:"application/json","Content-Type":"application/json"}}).then(i=>{e.$emit("update",i.data,0)})},async updateSales(s,e){const t=this,i=f({},s);delete i.id,await h.put(`/api/salesmans/${e}/`,JSON.stringify(i),{headers:{accept:"application/json","Content-Type":"application/json"}}).then(n=>{t.$emit("update",n.data,e)})}},computed:{enableSubmit(){return this.nameValid||this.streetValid||this.cityValid||this.phoneValid},nameValid(){return this.sales.name.trim().length===0},streetValid(){return this.sales.street.trim().length===0},cityValid(){return!0},phoneValid(){return this.sales.phone.trim().length===0}},directives:{focus:{mounted(s){setTimeout(()=>{s.focus()},100)}}}},u=s=>(w("data-v-1043c9f3"),s=s(),V(),s),L={class:"flex flex-col md:flex-row gap-x-4"},E={for:"sup-name",class:"flex-label"},M=u(()=>a("span",{class:"flex-span"},"Nama:",-1)),R={class:"flex flex-col md:flex-row gap-x-4"},q={for:"street",class:"flex-label"},G=u(()=>a("span",{class:"flex-span"},"Alamat:",-1)),H={for:"city",class:"flex-label"},Q=u(()=>a("span",{class:"flex-span"},"Kota:",-1)),W={class:"flex flex-col md:flex-row gap-x-4"},X={for:"phone",class:"flex-label"},Y=u(()=>a("span",{class:"flex-span"},"Telp.:",-1)),Z={for:"cellular",class:"flex-label"},ee=u(()=>a("span",{class:"flex-span"},"Cellular:",-1)),se={class:"flex flex-col md:flex-row gap-x-4"},ae={for:"zip",class:"flex-label"},te=u(()=>a("span",{class:"flex-span"},"Kode pos:",-1)),le={for:"email",class:"flex-label"},ne=u(()=>a("span",{class:"flex-span"},"e-mail:",-1)),ie={class:"flex flex-row gap-2 mt-5"},oe=["disabled"];function de(s,e,t,i,n,o){const b=N("focus");return d(),c("div",null,[a("form",{onSubmit:e[7]||(e[7]=(...l)=>o.formSubmit&&o.formSubmit(...l))},[a("div",L,[a("label",E,[M,p(a("input",{maxlength:"50",id:"sup-name",type:"text",class:x(["flex-input",{"input-disable":o.nameValid}]),"onUpdate:modelValue":e[0]||(e[0]=l=>n.sales.name=l),placeholder:"e.g. PT. Mandiri Perkasa"},null,2),[[b],[r,n.sales.name]])])]),a("div",R,[a("label",q,[G,p(a("textarea",{id:"street",maxlength:"128",class:x(["flex-input",{"input-disable":o.streetValid}]),"onUpdate:modelValue":e[1]||(e[1]=l=>n.sales.street=l),placeholder:"e.g. Jl. Jenderal Sudirman No. 155 Kel. Lemahmekar"},null,2),[[r,n.sales.street]])]),a("label",H,[Q,p(a("input",{id:"city",maxlength:"50",class:x(["flex-input self-start",{"input-disable":o.cityValid}]),type:"text","onUpdate:modelValue":e[2]||(e[2]=l=>n.sales.city=l),placeholder:"e.g. Indramayu"},null,2),[[r,n.sales.city]])])]),a("div",W,[a("label",X,[Y,p(a("input",{id:"phone",maxlength:"25",class:x(["flex-input",{"input-disable":o.phoneValid}]),type:"text","onUpdate:modelValue":e[3]||(e[3]=l=>n.sales.phone=l),placeholder:"e.g. 02342775"},null,2),[[r,n.sales.phone]])]),a("label",Z,[ee,p(a("input",{id:"cellular",maxlength:"25",class:"flex-input",type:"text","onUpdate:modelValue":e[4]||(e[4]=l=>n.sales.cell=l),placeholder:"e.g. 0856 6598 2366"},null,512),[[r,n.sales.cell]])])]),a("div",se,[a("label",ae,[te,p(a("input",{id:"zip",maxlength:"8",class:"flex-input",type:"text","onUpdate:modelValue":e[5]||(e[5]=l=>n.sales.zip=l),placeholder:"e.g. 45212"},null,512),[[r,n.sales.zip]])]),a("label",le,[ne,p(a("input",{id:"email",maxlength:"128",class:"flex-input",type:"text","onUpdate:modelValue":e[6]||(e[6]=l=>n.sales.email=l),placeholder:"e.g. somepne@gmail.com"},null,512),[[r,n.sales.email]])])]),a("div",ie,[a("button",{type:"submit",class:"btn-primary",disabled:o.enableSubmit}," Save ",8,oe),D(s.$slots,"default",{},void 0,!0)])],32)])}var F=T(K,[["render",de],["__scopeId","data-v-1043c9f3"]]);Array.prototype.indexOfObject=function(s,e){for(let t=0,i=this.length;t<i;t++)if(this[t][s]===e)return t;return-1};const g={id:0,name:"",street:"",city:"",phone:"",cell:"",zip:"",email:""},ce={name:"Sales",data(){return{salesmans:[f({},g)],selectedIndex:-1,selectedId:-1}},components:{"tw-button":P(A),"sales-form":F},methods:{cancelForm(){const s=this;s.selectedId=-1,s.selectedIndex=-1},async removeSales(){const s=this,e={"Content-Type":"application/json"};await h.delete(`/api/salesmans/${s.selectedId}`,{headers:e}).then(t=>{if(t.status===200){const i=s.salesmans.indexOfObject("id",s.selectedId);s.salesmans.splice(i,1),s.cancelForm()}})},supClick(s,e){const t=this;t.selectedId=e,t.selectedIndex=s},updateSales(s,e){const t=this;let i=t.salesmans;const n=t.salesmans.indexOfObject("id",e);i[n]=s,t.salesmans=i,e===0&&t.salesmans.push(g),t.cancelForm()}},async mounted(){const s=this,e={"Content-Type":"application/json"};await h.get("/api/salesmans/",{headers:e}).then(t=>{const i=t.data;s.salesmans=[...i,g]})},directives:{focus:{mounted(s){setTimeout(()=>{s.focus()},100)}}}},_=s=>(w("data-v-71821af5"),s=s(),V(),s),pe=_(()=>a("h1",null,"Sales",-1)),re=_(()=>a("div",{class:"message"}," Sales atau salesman atau salesmanship adalah orang dengan sebuah profesi dimana seseorang yang kerjanya berkeliling ke rumah-rumah, sok ramah tamah dan berniat menjual produknya ke konsumen dengan cara menghasut konsumen agar tertarik dan membeli produknya. ",-1)),me=_(()=>a("div",{class:"message"},[j(" Konotasinya seperti buruk banget.. tapi Satu-satunya divisi yang menghasilkan Uang, dalam arti kata sebenarnya, adalah divisi sales. Divisi yang lain bisa menghemat biaya, tetapi tetap tidak bisa menciptakan aliran dana masuk. Fokus pada divisi "),a("b",null,"SALES"),j(", dapat memberikan pemasukan yang berkesinambungan bagi perusahaan Anda. ")],-1)),ue={class:"mt-4"},fe=_(()=>a("hr",null,null,-1)),_e={key:0,class:"sales-list"},he=_(()=>a("span",{class:"flex-1"},null,-1)),xe=["disabled"],be={key:1,class:"sales-list"},ye=["onClick"],ve={key:1,class:"sales-item"},ge={class:"flex-none w-full md:w-2/5"},ke=["onClick"],Se={class:"flex-1 w-full text-sm mt-2 md:mt-0"};function we(s,e,t,i,n,o){const b=F;return d(),c("div",null,[pe,re,me,a("div",ue,[fe,(d(!0),c($,null,B(n.salesmans,(l,y)=>(d(),c("div",{key:l.id},[C(J,{name:"slide-fade"},{default:I(()=>[n.selectedIndex===y&&n.selectedId===l.id?(d(),c("div",_e,[C(b,{salesProp:l,onUpdate:o.updateSales},{default:I(()=>[a("button",{type:"button",class:"btn-cancel rounded-md",onClick:e[0]||(e[0]=v=>o.cancelForm())}," Cancel "),he,a("button",{onClick:e[1]||(e[1]=v=>o.removeSales()),type:"button",class:"btn-remove",disabled:l.id===0}," Delete ",8,xe)]),_:2},1032,["salesProp","onUpdate"])])):(d(),c("div",be,[l.id===0?(d(),c("div",{key:0,onClick:v=>o.supClick(y,l.id),class:"span-link"}," + ",8,ye)):(d(),c("div",ve,[a("div",ge,[a("div",{onClick:v=>o.supClick(y,l.id),class:"span-link"},m(l.name),9,ke)]),a("div",Se,[a("div",null,m(l.street)+" - "+m(l.city)+", "+m(l.zip),1),a("div",null,"Telp. "+m(l.phone)+" / "+m(l.cell),1),a("div",null,m(l.email),1)])]))]))]),_:2},1024)]))),128))])])}var Fe=T(ce,[["render",we],["__scopeId","data-v-71821af5"]]);export{Fe as default};
